RANDOM

This folders contains files for testing the behavior of terraform random provider. 

SOURCE - Terraform Registry.

DESCRIPTION

Random_provider is not like the other known providers like aws_provider or other. Random_provider is logical provider whose purpose is to bring random (unique) values for resources when it is required. This kind of provider works with terraform logic and is not part of any official provider like AWS, Azure or other. It is very important to describe the difference between the random_pet and random_id witch are doing similarly the same thing and are part of the random_provider. Random_id is producing unique id - a random string and you can choose the length. The random_pet resource produces random string containing several words. 

REQUIREMENTS

1. Terraform installed
2. Account in selected cloud provider - here the verndor I use is AWS.

VERSIONS:

All provider versions can be seen in .terraform.lock.hcl file after using the command "terraform init". 
provider "registry.terraform.io/hashicorp/aws" {
  version = "5.5.0"

provider "registry.terraform.io/hashicorp/random" { version = "3.5.1"

FILES IN THE REPO

main.tf - this file contains the configuration for the resources 
variables.tf - thit file contains variables that can be changed with other values 
outputs.tf - this file contains the values for given parameters as end result, that can be used in other configurations. In this case we need the IDs of the server itself and AMI image for that server.

README.md - This document. It describes the most important about this repo.

.gitignore - file with type of files that shouldn't be commited in the publick repository.

TESTING



<img width="383" alt="Screenshot 2023-06-23 at 11 28 36" src="https://github.com/dbeleva-af/random/assets/105104959/d9a04a40-1e28-4fcb-b2aa-d1464698656f">



Commands for testing the code:
    terraform init - after using this command the required plugins are installed. 
    terraform validate - via this command we are validating that the configuration has no syntactical problems and will not produce an error.
    terraform plan - with this command terraform is making plan before applying the configuration. After applying this command we see that there are 2 resources to be created - the random_id.server and the resource "aws_instance" "server" witch will obtain the produced random_id as s string (Name = "web-server ${random_id.server.hex}"). web-server fa363facd1b29a089681). The plan could be stored in a file (terraform plan -out ) and could be executed latter.
    terraform apply - this command is doing the main action - to deploy the given infrastructure anywere. In this case in the main.tf file there are real resources to be deployed in a cloud. There will be one aws_instance with unique identifier - Name = "web-server ${random_id.server.hex}". Those kind of names are generated by the interpolation from web-server and the identifier that the random_id resource is creating - web-server fa363facd1b29a089681 - witch can be seen in the AWS console. During the creation process terraform creates one tfstate file as a source ot truth for the deployed infrastructure.
    terraform destroy - the command destroys everything that was deployed by the previous command. This means that the infrastructure will not be available.




